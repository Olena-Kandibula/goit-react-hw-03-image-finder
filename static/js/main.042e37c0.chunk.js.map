{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem1.js","ImagesError/ImagesError.js","APIService/APIservice.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleChange","e","value","currentTarget","setState","reset","handleSubmit","preventDefault","newSearch","trim","toLowerCase","props","onSubmit","alert","className","s","searchbar","logo","href","src","alt","width","this","searchForm","type","searchFormButton","size","searchFormButtonLabel","searchFormInput","autoComplete","onChange","pattern","autoFocus","placeholder","Component","prototypes","PropTypes","func","ImageGalleryItem","images","map","image","imageGalleryItem","imageGalleryItemImage","largeImageURL","webformatURL","tag","id","protoType","array","ImagesError","errorSearchQuery","console","log","string","api","fetchImg","url","page","fetch","then","response","json","data","catch","error","worm","ImageGallery","status","prevProps","prevState","prevQuery","nextQuery","imagesAPI","total","hits","length","sl","loader","color","height","timeout","imageGallery","App","loaging","formSubmitHandler","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.042e37c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3Ppio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1p3B_\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nimport s from '../Searchbar/Searchbar.module.css';\r\nimport { BiSearchAlt } from 'react-icons/bi';\r\n\r\n\r\nclass Searchbar extends Component {\r\n    \r\n    state = {        \r\n        searchQuery : '',\r\n    }\r\n      \r\n\r\n    handleChange = e => {\r\n    const { value } = e.currentTarget;\r\n    this.setState({searchQuery: value});\r\n    \r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n      e.preventDefault();\r\n      const { searchQuery } = this.state;\r\n\r\n    const newSearch =         \r\n          searchQuery.trim().toLowerCase();\r\n    //   console.log(searchQuery)\r\n      if (newSearch === '') {\r\n          alert('Input is empty');\r\n          return;\r\n      }\r\n     this.props.onSubmit(newSearch);\r\n    \r\n    this.reset();\r\n    };\r\n    \r\n    render() {\r\n        return (\r\n\r\n            <header className={s.searchbar}>\r\n                <div className={s.logo}>\r\n                    <a href=\"https://pixabay.com/\">\r\n                        <img src=\"https://pixabay.com/static/img/public/medium_rectangle_a.png\"\r\n                            alt=\"Pixabay\" width=\"48\"                            \r\n                        />\r\n                    </a>\r\n    </div>\r\n                <form onSubmit={this.handleSubmit}\r\n                    className={s.searchForm}>\r\n                    <button\r\n                        type=\"submit\"\r\n                        className={s.searchFormButton}\r\n                    >\r\n                        <BiSearchAlt size=\"20\" />\r\n                        <span className={s.searchFormButtonLabel}\r\n                        >\r\n                        Search\r\n                        </span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={s.searchFormInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        value={this.state.searchQuery}\r\n                        onChange={this.handleChange}\r\n                        \r\n                        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n\r\n                </form>\r\n\r\n                \r\n\r\n            </header>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.prototypes = {\r\nonSubmit: PropTypes.func,\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nimport Modal from '../Modal';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n//   state = {\r\n//     showModal: false,\r\n//   };\r\n\r\n//   openModal = e => {\r\n//     this.setState({ showModal: e.target.dataset.set });\r\n//   };\r\n\r\n//   closeModal = () => {\r\n//     this.setState({ showModal: false });\r\n//   };\r\n\r\n  render() {\r\n      return (\r\n        <>\r\n            {this.props.images.map(image => (\r\n                <li className ={s.imageGalleryItem}\r\n                    key={image.id}>\r\n                    <img\r\n                          // onClick={this.openModal}\r\n                        className={s.imageGalleryItemImage}\r\n                \r\n                        data-set={image.largeImageURL}                          \r\n                        src={image.webformatURL} \r\n                        alt={image.tag} \r\n                    />\r\n                </li>\r\n            ))}\r\n              \r\n              {/* {this.state.showModal && (\r\n          <Modal closeModal={this.closeModal}>\r\n            <img\r\n              src={this.state.showModal}\r\n              alt=\"modal_picture\"\r\n              className={s.bigimg}\r\n            />\r\n          </Modal>\r\n        )} */}\r\n              \r\n\r\n\r\n        </>    \r\n          );     \r\n  }\r\n}\r\n\r\nImageGalleryItem.protoType = {\r\n  images: PropTypes.array,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\n// import s from './NotFound.module.css';\r\n\r\nfunction ImagesError({ errorSearchQuery }) {\r\n  console.log(errorSearchQuery)\r\n  // console.log(this.props)\r\n  return <p >Images with the name \"{errorSearchQuery}\" were not found, try again! </p>;\r\n}\r\n\r\nImagesError.protoType = {\r\n  errorSearchQuery: PropTypes.string,\r\n};\r\n\r\nexport default ImagesError;","const BASE_URL = 'https://pixabay.com/api/';\r\n        const API_KEY = '22960570-8de4834e5e1a62c8570402763';\r\n        \r\n\r\n function fetchImg(searchQuery) {\r\nconst url = `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&page=${this.page}&per_page=12`\r\n\r\n     return fetch(url)\r\n         // .then(response => {\r\n         //      if (response.ok) {\r\n         //         return response.json();\r\n         //     }\r\n         //     return Promise.reject(\r\n         //         new Error(`this name\r\n         //         // ${searchQuery}\r\n         //          not faind`\r\n         //         ),\r\n         //         );\r\n         //     })  \r\n     \r\n         .then(response => response.json())\r\n         \r\n         .then(data => { return data })\r\n        \r\n         .catch(error => console.worm(error));\r\n    \r\n}\r\n\r\nconst api = { fetchImg };\r\n\r\nexport default api;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem1';\r\nimport ImagesError from '../../ImagesError/ImagesError';\r\n\r\n\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\nimport sl from '../Loader/Loader.module.css';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\nimport imagesAPI from '../../APIService/APIservice';\r\n\r\nclass ImageGallery extends Component {\r\n\r\n    state = {        \r\n        images: [],\r\n        error: null,\r\n        status: 'idle'\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n     \r\n        const prevQuery = prevProps.searchQuery;\r\n        const nextQuery = this.props.searchQuery;      \r\n        \r\n        \r\n        \r\n        if (prevQuery !== nextQuery) {\r\n            \r\n            this.setState({\r\n                status: 'pending',\r\n            });\r\n            \r\n            \r\n            imagesAPI\r\n                .fetchImg(nextQuery)                   \r\n        \r\n                .then(images => {\r\n                    if(images.total !==0 ){\r\n                \r\n                        return this.setState({ images: images.hits, status: 'resolved' });\r\n                    }\r\n                    return this.setState({  status: 'rejected' });\r\n            })\r\n                // .catch(error => console.warn(error))\r\n            .catch(error => this.setState({error, status: 'rejected'}))\r\n                         \r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { images, error, status } = this.state;\r\n        const { searchQuery } = this.props;\r\n        console.log(images.length);\r\n        \r\n        if (status === 'idle') {\r\n            return <div>input name</div>\r\n        }\r\n\r\n        if (status === 'pending') {           \r\n            return <Loader className = {sl.loader}\r\n                type=\"BallTriangle\"\r\n                color=\"#00BFFF\"\r\n                height={80}\r\n                width={80}\r\n                timeout={3000}\r\n            />           \r\n        }\r\n\r\n        if (status === 'rejected') {\r\n\r\n            return <ImagesError\r\n                errorSearchQuery={searchQuery}\r\n            />            \r\n        }\r\n\r\n        if (status === 'resolved') {\r\n             \r\n            return (<ul className={s.imageGallery}>\r\n                 \r\n                 <ImageGalleryItem\r\n                     images={images}\r\n                />\r\n                \r\n             </ul>\r\n                 \r\n             );\r\n         }\r\n    }\r\n    \r\n}\r\n    \r\nImageGallery.prototypes = {\r\n    searchQuery:PropTypes.string\r\n    \r\n}\r\n\r\nexport default ImageGallery;","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\n\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    // ====\r\n    // images: [],\r\n    loaging: false,\r\n\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   this.setState({ loading: true });\r\n  //   //    fetchImg()  {\r\n  //       console.log(this.state.searchQuery)        \r\n  //       const BASE_URL = 'https://pixabay.com/api/';\r\n  //       const API_KEY = '22960570-8de4834e5e1a62c8570402763';\r\n  //       const url = `${BASE_URL}?key=${API_KEY}&q=${this.state.searchQuery}&image_type=photo&orientation=horizontal&page=${this.page}&per_page=12`\r\n        \r\n  //        fetch(url)            \r\n  //           .then(response => \r\n  //               // console.log('respons',response.json())\r\n  //               response.json()\r\n  //       )\r\n  //           .then(images => {\r\n  //               this.setState({images:images.hits })\r\n  //                   // images:result.image\r\n  //             console.log('hits', images.hits)\r\n  //             console.log('hits', images.hits.id)\r\n  //             // console.log('total',images.total)\r\n  //               // return images.hits;\r\n\r\n               \r\n  //               // return images;\r\n\r\n  //           // })\r\n  //           // .then(( images ) => {             \r\n                \r\n  //               // return images.hits;\r\n  //           })\r\n  //          .catch(error => console.warn(error))\r\n  //          .finally(() =>\r\n  //            this.setState({ loading: false })\r\n  //           //  console.log('loading')\r\n  //          )\r\n        \r\n  //   }\r\n\r\n  formSubmitHandler = newSearch => {\r\n    \r\n    this.setState({searchQuery: newSearch})\r\n  };\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"App\">\r\n      <Searchbar onSubmit={this.formSubmitHandler}>\r\n        </Searchbar>\r\n        \r\n        <ImageGallery\r\n          searchQuery={this.state.searchQuery}>\r\n          \r\n      </ImageGallery>\r\n        \r\n        {/* <ul>\r\n          {this.state.loaging&& <h1>loading</h1>}\r\n          {this.state.images.map(image => (\r\n           \r\n                 <li className=\"ImageGalleryItem\" key={image.id}> \r\n                 <img src={image.previewURL} alt={image.tags} className=\"ImageGalleryItem-image\" /> \r\n             \r\n             </li> \r\n           ))} \r\n        </ul> */}\r\n      </div>\r\n    )\r\n  };\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__xFmR5\",\"logo\":\"Searchbar_logo__p0ZMZ\",\"searchForm\":\"Searchbar_searchForm__211Jw\",\"searchFormButton\":\"Searchbar_searchFormButton__eiMNS\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__3x66H\",\"searchFormInput\":\"Searchbar_searchFormInput__kouHs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2OULF\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__1BGsU\"};"],"sourceRoot":""}